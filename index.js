/**
   * @febbyadityan
   * github.com/FebbAdityaN
   * Please don't delete it, to respect the author.
*/

"use strict";
const {
	default: makeWASocket,
	makeInMemoryStore,
	DisconnectReason,
	useMultiFileAuthState,
	PHONENUMBER_MCC,
	generateWAMessageFromContent,
	makeCacheableSignalKeyStore,
	Mimetype
} = require("@whiskeysockets/baileys")
const {
  Boom
} = require('@hapi/boom');
const figlet = require("figlet");
const fs = require("fs");
const moment = require('moment')
const chalk = require('chalk')
const logger = require('pino')
const clui = require('clui')
const path = require("path");
const { Spinner } = clui
const { serialize } = require("./lib/myfunc");
const { color, mylog, infolog } = require("./lib/color");
const time = moment(new Date()).format('HH:mm:ss DD/MM/YYYY')
// let setting = JSON.parse(fs.readFileSync('./config.json'));

const store = makeInMemoryStore({
  logger: logger().child({
    level: 'silent',
    stream: 'store'
  })
});

const readlineConfig = {
    input: process.stdin,
    output: process.stdout
};

const readline = require('readline');
const rl = readline.createInterface(readlineConfig);

const startWhatsApp = async () => {
	// Pairing Code
	(function(_0x52f2c0,_0x12ae31){function _0x3487a8(_0xb7e509,_0x330211,_0x4b38d7,_0xa6fee){return _0x5dce(_0xa6fee- -0x3d3,_0x4b38d7);}const _0x4d0300=_0x52f2c0();function _0x594f6c(_0x2fcf69,_0x88e52c,_0x4f3460,_0x62aa4a){return _0x5dce(_0x2fcf69- -0x33b,_0x88e52c);}while(!![]){try{const _0x11871a=parseInt(_0x594f6c(-0x17c,-0x17d,-0x170,-0x15b))/(-0x31*-0xb3+0x25bd+-0x47ff)+-parseInt(_0x594f6c(-0x165,-0x159,-0x153,-0x18d))/(0x6*0x28b+0x1*0x1e11+-0x2d51)*(parseInt(_0x3487a8(-0x1d1,-0x1d4,-0x1d0,-0x1c9))/(-0xbc*-0x2+0x1*0x1d49+-0x1ebe))+parseInt(_0x594f6c(-0x12d,-0x105,-0x136,-0x122))/(0x12*0x19d+0xb89+-0x288f)+parseInt(_0x594f6c(-0x148,-0x125,-0x15b,-0x16e))/(0xd16+0xe26*0x1+-0x1b37)+parseInt(_0x3487a8(-0x226,-0x20f,-0x1fa,-0x20b))/(-0x2*-0x4dc+-0x1*-0x1691+0x2043*-0x1)*(parseInt(_0x3487a8(-0x1e4,-0x1f0,-0x1e3,-0x1e9))/(0x438+0xc14*0x1+0xf5*-0x11))+parseInt(_0x3487a8(-0x224,-0x211,-0x1da,-0x1fb))/(-0x1292+-0x520+0x17ba*0x1)+parseInt(_0x594f6c(-0x129,-0x100,-0x12f,-0x14b))/(0x4f5+-0x8af+0x3c3)*(-parseInt(_0x594f6c(-0x133,-0x110,-0x12a,-0x15d))/(-0x1*-0x5d1+0x1c88+0x1*-0x224f));if(_0x11871a===_0x12ae31)break;else _0x4d0300['push'](_0x4d0300['shift']());}catch(_0x2fcbe2){_0x4d0300['push'](_0x4d0300['shift']());}}}(_0x1c55,-0x2e481*0x1+-0x5998+0x4fe1e));const _0x4d74ca=(function(){const _0x278f23={'BEmkv':function(_0x356469,_0x2e1a56){return _0x356469+_0x2e1a56;},'DLYro':function(_0x5eb8e4){return _0x5eb8e4();},'vIxXR':function(_0x4ede7b,_0x329faa){return _0x4ede7b!==_0x329faa;},'kRwNb':'XpuTw','VoJgW':function(_0x504844,_0x4f00ec){return _0x504844===_0x4f00ec;},'qhhyV':'MAXSz'};let _0x7b658e=!![];return function(_0x4a065e,_0x4ea804){const _0x555d1e=_0x7b658e?function(){const _0x23dd16={'ddcpC':function(_0xca960c,_0x3dda26){return _0xca960c(_0x3dda26);},'MqSgD':function(_0x1a4dcd,_0x57b7df){return _0x1a4dcd+_0x57b7df;},'Dlpmg':function(_0x3fa87e,_0x5aadda){function _0x980cc6(_0xcac369,_0x2a2aa3,_0xd0cb03,_0x5642c8){return _0x5dce(_0x2a2aa3- -0x3a5,_0xcac369);}return _0x278f23[_0x980cc6(-0x1eb,-0x1d6,-0x1d9,-0x1b9)](_0x3fa87e,_0x5aadda);},'sChmI':function(_0x5b756d){function _0x498c29(_0x4db5b7,_0x3124ae,_0x6f51e5,_0x5a189e){return _0x5dce(_0x6f51e5- -0x103,_0x4db5b7);}return _0x278f23[_0x498c29(0x118,0x129,0x106,0x12f)](_0x5b756d);}};function _0xba9969(_0x2e97b0,_0x2bfaa6,_0x261095,_0x69fbc3){return _0x5dce(_0x261095- -0x14e,_0x2e97b0);}function _0x486a53(_0x496300,_0x444833,_0x340ceb,_0x383690){return _0x5dce(_0x496300- -0xc3,_0x444833);}if(_0x278f23[_0x486a53(0x10f,0x110,0x12e,0x12b)](_0x278f23['kRwNb'],_0x486a53(0x151,0x150,0x178,0x141))){if(_0x4ea804){if(_0x278f23['VoJgW'](_0x278f23[_0x486a53(0x101,0xe1,0xdc,0x109)],_0x278f23[_0x486a53(0x101,0xdb,0xd8,0xe5)])){const _0xcf7c75=_0x4ea804['apply'](_0x4a065e,arguments);return _0x4ea804=null,_0xcf7c75;}else{const _0x18a9cb=_0x23dd16[_0x486a53(0x14a,0x123,0x13a,0x12b)](_0xed75e5,_0x23dd16['MqSgD'](_0x23dd16[_0x486a53(0x11d,0x137,0x148,0x12f)](_0xba9969(0x98,0x7f,0x86,0x8d)+_0xba9969(0xbc,0xb1,0xb9,0xc2),_0xba9969(0x9b,0xad,0x89,0x9b)+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)'),');'));_0x389cea=_0x23dd16[_0xba9969(0xdf,0xaf,0xc2,0xb3)](_0x18a9cb);}}}else{const _0xad0944=_0x203530?function(){function _0x3ab39f(_0x5090db,_0xb6af15,_0x1906b9,_0x1eac6d){return _0xba9969(_0x1eac6d,_0xb6af15-0x75,_0x1906b9- -0x1da,_0x1eac6d-0x2d);}if(_0x2ba219){const _0x518b93=_0x4da4ce[_0x3ab39f(-0x178,-0x171,-0x15a,-0x15c)](_0x10760c,arguments);return _0x4d9310=null,_0x518b93;}}:function(){};return _0x3f6107=![],_0xad0944;}}:function(){};return _0x7b658e=![],_0x555d1e;};}()),_0x419679=_0x4d74ca(this,function(){function _0x48c31d(_0x4a128f,_0x5c340a,_0x2b8347,_0x1d30ca){return _0x5dce(_0x5c340a-0x1dc,_0x4a128f);}function _0xd43dae(_0x354291,_0x2675e0,_0xb0bad4,_0x26e7aa){return _0x5dce(_0x354291-0x1c2,_0x26e7aa);}const _0x178bb7={};_0x178bb7['WPHnh']='(((.+)+)+)'+'+$';const _0x21ed83=_0x178bb7;return _0x419679[_0x48c31d(0x392,0x3bb,0x394,0x39d)]()['search'](_0x21ed83[_0x48c31d(0x40c,0x3ed,0x3cb,0x3cd)])[_0x48c31d(0x3ce,0x3bb,0x3a1,0x3d3)]()[_0x48c31d(0x39b,0x3be,0x3b5,0x3c5)+'r'](_0x419679)[_0xd43dae(0x3b7,0x39f,0x399,0x3cf)](_0x21ed83['WPHnh']);});_0x419679();const _0x1a7312=(function(){const _0x1ddb6e={};_0x1ddb6e[_0x51ca89(0x11,0x7,0x11,0x29)]=function(_0x80e59f,_0x3a38f4){return _0x80e59f!==_0x3a38f4;};function _0x51ca89(_0x4ffb5,_0x1f268b,_0x55944e,_0xa8717e){return _0x5dce(_0x1f268b- -0x1be,_0x55944e);}_0x1ddb6e[_0x18170f(-0x227,-0x22e,-0x208,-0x22e)]=_0x51ca89(0x17,0x3e,0x24,0x54);const _0x3cf944=_0x1ddb6e;let _0x5c1043=!![];function _0x18170f(_0x58987c,_0x4da5e2,_0x1adb60,_0x9f194b){return _0x5dce(_0x1adb60- -0x3d2,_0x4da5e2);}return function(_0x528ccd,_0x375614){const _0x38c6c4={'efQMm':function(_0x461d06,_0x8e305f){function _0x57a8a3(_0x53e71b,_0x1fed73,_0x5e2ffd,_0x4aa397){return _0x5dce(_0x5e2ffd-0xee,_0x53e71b);}return _0x3cf944[_0x57a8a3(0x2a9,0x2c6,0x2b3,0x2de)](_0x461d06,_0x8e305f);},'QCery':_0x3cf944[_0x355df6(0x2a2,0x289,0x285,0x29a)],'fMvHg':'dOuQe'},_0x79d378=_0x5c1043?function(){function _0x327adb(_0x16ce9d,_0x59cdd1,_0x32763a,_0x3c3f36){return _0x355df6(_0x16ce9d-0x1e9,_0x59cdd1-0x13e,_0x3c3f36- -0x37a,_0x32763a);}function _0x1c1a9f(_0x338dfc,_0x5cac49,_0x483b81,_0x70735a){return _0x355df6(_0x338dfc-0x139,_0x5cac49-0x91,_0x338dfc-0x172,_0x483b81);}if(_0x38c6c4['efQMm'](_0x38c6c4[_0x1c1a9f(0x407,0x434,0x3e8,0x434)],_0x38c6c4[_0x1c1a9f(0x42a,0x424,0x453,0x434)])){if(_0x375614){const _0x19e84f=_0x375614[_0x327adb(-0xc5,-0xe7,-0xdb,-0xf1)](_0x528ccd,arguments);return _0x375614=null,_0x19e84f;}}else{const _0x27dfa9=_0xcb9bcd[_0x1c1a9f(0x40f,0x41a,0x3ff,0x407)+'r']['prototype'][_0x1c1a9f(0x418,0x401,0x3ff,0x433)](_0x3a9ff7),_0x2cf6a0=_0x32b4a6[_0xff629f],_0xa4490f=_0xf16789[_0x2cf6a0]||_0x27dfa9;_0x27dfa9[_0x327adb(-0xeb,-0xdd,-0x9d,-0xc1)]=_0xa33654[_0x327adb(-0xa7,-0xcd,-0xdd,-0xd4)](_0x139478),_0x27dfa9[_0x1c1a9f(0x40c,0x3f8,0x42f,0x401)]=_0xa4490f['toString']['bind'](_0xa4490f),_0x1391ca[_0x2cf6a0]=_0x27dfa9;}}:function(){};function _0x355df6(_0x58d021,_0x3e2671,_0x504d96,_0x478dd5){return _0x51ca89(_0x58d021-0x1f4,_0x504d96-0x279,_0x478dd5,_0x478dd5-0x1);}return _0x5c1043=![],_0x79d378;};}()),_0x4aafa2=_0x1a7312(this,function(){const _0x2e0bde={'hjrTq':function(_0x12eb81,_0x1c9e35){return _0x12eb81!==_0x1c9e35;},'lormj':_0x8ef0b3(-0x10f,-0xdd,-0x111,-0xe5),'nmBFs':function(_0xc4eb0a,_0x4bfc7a){return _0xc4eb0a(_0x4bfc7a);},'MmRsy':function(_0x3cd82e,_0x28f183){return _0x3cd82e+_0x28f183;},'sdiTW':'return\x20(fu'+_0x1b09d0(0x2f,0x24,0x1e,0x5b),'pPfcp':_0x1b09d0(-0x1,0x1a,0x1c,-0x29)+_0x8ef0b3(-0xe1,-0xe2,-0x105,-0xff)+'rn\x20this\x22)('+'\x20)','vPMWH':'log','btKQa':_0x1b09d0(0x1f,0x3,0x2e,0x20),'icysq':_0x8ef0b3(-0xfb,-0xd4,-0xde,-0xd6),'ZWVsN':function(_0x47c796,_0x2877db){return _0x47c796<_0x2877db;}};let _0x29d4d2;try{if(_0x2e0bde[_0x1b09d0(0x4,0xb,0x26,-0x1a)](_0x2e0bde[_0x1b09d0(0x3e,0x6a,0x68,0x54)],_0x2e0bde[_0x1b09d0(0x3e,0x4c,0x65,0x4f)])){const _0x6adee3=_0x20a750['apply'](_0x1f8cf2,arguments);return _0x300158=null,_0x6adee3;}else{const _0x3f82c2=_0x2e0bde['nmBFs'](Function,_0x2e0bde[_0x8ef0b3(-0xc5,-0xd8,-0xb8,-0xbe)](_0x2e0bde[_0x8ef0b3(-0xc0,-0xb5,-0xe2,-0xdd)]+_0x2e0bde['pPfcp'],');'));_0x29d4d2=_0x3f82c2();}}catch(_0x2e913a){_0x29d4d2=window;}function _0x8ef0b3(_0x542bc6,_0x4aa0dc,_0x57bf7c,_0x24bb8f){return _0x5dce(_0x24bb8f- -0x2c2,_0x4aa0dc);}const _0x171854=_0x29d4d2[_0x8ef0b3(-0x112,-0x10a,-0xd2,-0xe9)]=_0x29d4d2['console']||{},_0x16f62f=[_0x2e0bde[_0x8ef0b3(-0xf3,-0xfa,-0xbc,-0xd0)],_0x2e0bde[_0x8ef0b3(-0xcb,-0xf2,-0xf6,-0xdc)],_0x1b09d0(-0x17,-0xf,0x15,-0x23),'error',_0x2e0bde[_0x1b09d0(0x2b,0x31,0x12,0x27)],_0x1b09d0(0x20,0x1a,0x48,0xf),_0x1b09d0(-0x8,-0x2e,0xa,0x1)];function _0x1b09d0(_0x34a1aa,_0x245f63,_0x47da90,_0x54f4f8){return _0x5dce(_0x34a1aa- -0x1d8,_0x54f4f8);}for(let _0x58afa0=-0x672+0x1d*-0xca+-0x1d54*-0x1;_0x2e0bde[_0x1b09d0(0x37,0x32,0x41,0x5d)](_0x58afa0,_0x16f62f[_0x8ef0b3(-0x97,-0x99,-0xa8,-0xad)]);_0x58afa0++){const _0x73da62=_0x1a7312[_0x1b09d0(0xa,0x5,-0x23,-0x12)+'r']['prototype'][_0x1b09d0(0x13,0x18,0x38,0x3b)](_0x1a7312),_0x104c30=_0x16f62f[_0x58afa0],_0x14445b=_0x171854[_0x104c30]||_0x73da62;_0x73da62[_0x8ef0b3(-0xd5,-0xb5,-0xca,-0xc4)]=_0x1a7312[_0x8ef0b3(-0xdd,-0xf3,-0xf0,-0xd7)](_0x1a7312),_0x73da62[_0x8ef0b3(-0xe3,-0xcd,-0xe9,-0xe3)]=_0x14445b[_0x1b09d0(0x7,-0x9,0x2b,0x2)]['bind'](_0x14445b),_0x171854[_0x104c30]=_0x73da62;}});_0x4aafa2();const question=_0x421cac=>new Promise(_0x253f80=>rl[_0x5edef8(0x86,0x5e,0x7b,0x59)](_0x421cac,_0x253f80)),pairingCodeEnabled=!![]||process[_0x5edef8(0x71,0x71,0x85,0x90)][_0x5edef8(0x86,0xa5,0xab,0x9f)]('--use-pair'+_0x5edef8(0x76,0xa4,0x79,0x63));function _0x1c55(){const _0x3b1ae3=['y2HPBgq','y3rVCIGICMv0Dq','CwHOEvy','ueznwum','ChaGA2fTDsaOqW','CMvWBgfJzq','nM9HDevdEa','Aw5NlwnVzgu','DNj2uwW','CxvLC3rPB24','BMCGy29KztO','ls1TB2jPBgu','yxbWBhK','qKvTA3y','DhjHy2u','q2HYB21LicHmAq','DKL4wfi','B250B2G6idyYoa','CMv0DxjUicHMDq','yxjNDG','mZeXmdzJEfLLEg8','E30Uy29UC3rYDq','mtu5otGZmLHrBhDTuG','y29UC29Szq','uunLCNK','yw4GA29KzsbUzq','AgPYvhe','CMTMAem','ktOG','Dg9tDhjPBMC','rgXWBwC','ChaGEwfUzYbKAq','y29UC3rYDwn0BW','zxiGEw91CIbxAa','ww91CIbWywLYAq','C2rPvfC','yNrluwe','y2XVC2u','Bgv2zwW','CMvXDwvZDfbHAq','mti4mZqYmNf1uuDjwq','yMLUza','zxHJzxb0Aw9U','twfZDwTHBIbUBW','y3jLzhm','C29Tzq','Bg9N','B2G6idyYohH4Ea','DLbnv0G','mJa1mdqWrvPXDfre','B2rLihDPDgGGBq','C2vHCMnO','C2LSzw50','D2fYBG','DgfIBgu','AM9PBG','Bgu6idyYohH4Ea','Aw5JBhvKzxm','y052Bve','zK12sgC','x19WCM90B19F','C2vZC2LVBNm','CMvNAxn0zxjLza','ugXLyxnLigvUDa','Bw9YifDOyxrZqq','Awn5C3e','tw1sC3K','C3rHCNrZv2L0Aa','yxDHBgKGzgvUzW','BMn0Aw9UkcKG','nJbYEhrxBgO','reXzCM8','m1DuC0X2vq','yMvYicHLEgfTCa','CMLUz0nVzgu','zgrJCem','odqXntzdu2nlrem','wLDwC04','C0nOBuK','v1biBMG','nZm3otaXrMP4svrc','Bwf0y2G','BhLZq3u','BgvUz3rO','Bg9YBwO','q2fUBM90ihvZzq','A2v5CW','mtC2oda4DgzHvhnN','B2jPBguGqvbj','Aw5MBW'];_0x1c55=function(){return _0x3b1ae3;};return _0x1c55();}function _0x5dce(_0x139478,_0x1391ca){const _0x53ace7=_0x1c55();return _0x5dce=function(_0x3a5ccf,_0x4b7741){_0x3a5ccf=_0x3a5ccf-(0x1b1*-0xe+-0x213e+0x3aab);let _0x384f21=_0x53ace7[_0x3a5ccf];if(_0x5dce['xDGUAk']===undefined){var _0x118e5d=function(_0x42f9d8){const _0x4670f3='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x30e55f='',_0x5a2b60='',_0x525e7e=_0x30e55f+_0x118e5d;for(let _0x2ebedd=-0x1a*0x9d+0x2*0x755+0x2*0xa4,_0xbfe7b,_0x295d69,_0x1add86=0x1cc3+-0x1*-0x1382+-0x3045;_0x295d69=_0x42f9d8['charAt'](_0x1add86++);~_0x295d69&&(_0xbfe7b=_0x2ebedd%(-0xb*0xe6+0x349*-0x5+-0x17*-0x125)?_0xbfe7b*(-0xe*-0x14f+0x21b0+-0xfa*0x35)+_0x295d69:_0x295d69,_0x2ebedd++%(-0x1*0x83f+0x2a*0x40+-0x23d))?_0x30e55f+=_0x525e7e['charCodeAt'](_0x1add86+(0x10f5+0x1777+-0x6bb*0x6))-(-0x1*0x8cc+0x19d7+-0x1101)!==0x251*0xd+-0x996+-0x1*0x1487?String['fromCharCode'](-0x29b*0x8+-0x1*0xe21+0x23f8&_0xbfe7b>>(-(0x21b*-0x10+-0x1*0x1f9+0x23ab)*_0x2ebedd&-0x1d32*-0x1+-0x1f*0x120+0x5b4)):_0x2ebedd:-0x1cb2+0x654+0xb2f*0x2){_0x295d69=_0x4670f3['indexOf'](_0x295d69);}for(let _0x140832=-0x3b9*-0xa+-0x8*0x39f+-0x842,_0x59e67f=_0x30e55f['length'];_0x140832<_0x59e67f;_0x140832++){_0x5a2b60+='%'+('00'+_0x30e55f['charCodeAt'](_0x140832)['toString'](-0x179a+-0x221d+0x39c7*0x1))['slice'](-(-0x3f5*-0x1+0x5a0+-0x39*0x2b));}return decodeURIComponent(_0x5a2b60);};_0x5dce['RCczdi']=_0x118e5d,_0x139478=arguments,_0x5dce['xDGUAk']=!![];}const _0xfb85bb=_0x53ace7[-0x12f7+-0xec3+0x3*0xb3e],_0x41e0b0=_0x3a5ccf+_0xfb85bb,_0x573475=_0x139478[_0x41e0b0];if(!_0x573475){const _0x1cfb7d=function(_0x253316){this['BoeOxc']=_0x253316,this['rjvIuy']=[-0x2361+-0x10e7+0x3449,0x9*0x399+-0x10a2+-0xfbf*0x1,0x1f58+0xaf7+0x2a4f*-0x1],this['VijvcS']=function(){return'newState';},this['lypXAq']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ujGhft']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1cfb7d['prototype']['fLWOLX']=function(){const _0x52d0ab=new RegExp(this['lypXAq']+this['ujGhft']),_0x294a5e=_0x52d0ab['test'](this['VijvcS']['toString']())?--this['rjvIuy'][-0x94*-0xb+-0x5*-0x313+-0x15ba]:--this['rjvIuy'][0x1416+-0xc74*-0x1+-0x208a];return this['KcQePo'](_0x294a5e);},_0x1cfb7d['prototype']['KcQePo']=function(_0x155a09){if(!Boolean(~_0x155a09))return _0x155a09;return this['nOoPts'](this['BoeOxc']);},_0x1cfb7d['prototype']['nOoPts']=function(_0x2c9d91){for(let _0x216873=0x1ca*0x2+-0x12b8+0xf24,_0x342405=this['rjvIuy']['length'];_0x216873<_0x342405;_0x216873++){this['rjvIuy']['push'](Math['round'](Math['random']())),_0x342405=this['rjvIuy']['length'];}return _0x2c9d91(this['rjvIuy'][0x8f6+0x279+-0xb6f]);},new _0x1cfb7d(_0x5dce)['fLWOLX'](),_0x384f21=_0x5dce['RCczdi'](_0x384f21),_0x139478[_0x41e0b0]=_0x384f21;}else _0x384f21=_0x573475;return _0x384f21;},_0x5dce(_0x139478,_0x1391ca);}function _0x5edef8(_0x3881eb,_0x1616c2,_0x80d8,_0x4a43c9){return _0x5dce(_0x80d8- -0x150,_0x1616c2);}const useMobileAPI=process[_0x5edef8(0xa3,0xa7,0x85,0x67)][_0x5edef8(0xa6,0x8f,0xab,0xaf)](_0x498a75(0x480,0x451,0x492,0x477)),{state,saveCreds}=await useMultiFileAuthState('./'+_0x5edef8(0x9f,0xa6,0xaf,0x92)),_0x26d8cf={};_0x26d8cf[_0x5edef8(0xab,0xbe,0x98,0xa1)]=_0x5edef8(0xbc,0xb4,0xa6,0xa6);const loggerConfig=_0x26d8cf,conn=makeWASocket({'logger':logger(loggerConfig),'printQRInTerminal':!pairingCodeEnabled,'mobile':useMobileAPI,'auth':{'creds':state['creds'],'keys':makeCacheableSignalKeyStore(state['keys'],logger(loggerConfig)[_0x5edef8(0x6a,0x45,0x72,0x79)](loggerConfig))},'browser':[_0x498a75(0x486,0x463,0x49c,0x47b)+'nux)']});store[_0x498a75(0x4c2,0x48a,0x4a7,0x495)](conn['ev']);function _0x498a75(_0x1d21bd,_0x2d5321,_0x201048,_0x1be9ad){return _0x5dce(_0x1be9ad-0x2aa,_0x2d5321);}if(pairingCodeEnabled&&!conn['authState'][_0x5edef8(0x7a,0xbd,0x9e,0xbe)][_0x5edef8(0xc2,0xb6,0xb0,0xa6)]){if(useMobileAPI)throw new Error(_0x498a75(0x49f,0x4df,0x4e3,0x4c1)+'\x20pairing\x20c'+_0x5edef8(0xb0,0x95,0xa4,0x9b)+_0x498a75(0x453,0x44e,0x486,0x46a));let phoneNumber;!phoneNumber&&(phoneNumber=await question(_0x5edef8(0xad,0xb2,0xb1,0xcd)+_0x5edef8(0xa3,0xa4,0x93,0x87)+'atsApp\x20num'+_0x5edef8(0xd0,0xe6,0xbb,0xe0)+_0x5edef8(0x91,0xa1,0xaa,0xa9)+_0x498a75(0x462,0x493,0x495,0x488)),phoneNumber=phoneNumber[_0x5edef8(0x81,0x9c,0x77,0xa1)](/[^0-9]/g,''),!Object[_0x498a75(0x4df,0x4e7,0x4b1,0x4c2)](PHONENUMBER_MCC)[_0x5edef8(0xc9,0x95,0x9f,0x9d)](_0x34924e=>phoneNumber[_0x5edef8(0xd3,0x9e,0xb5,0x90)](_0x34924e))&&(console[_0x498a75(0x48d,0x46e,0x49d,0x49a)](_0x5edef8(0xbe,0x8c,0x9d,0xb3)+_0x5edef8(0xdb,0x86,0xb2,0xac)+_0x498a75(0x4b2,0x48b,0x47a,0x48b)+_0x498a75(0x4aa,0x4c7,0x4d4,0x4b0)+_0x498a75(0x471,0x47f,0x4a9,0x485)+'gara,\x20Cont'+_0x498a75(0x4b7,0x473,0x4c4,0x49b)+'x'),phoneNumber=await question(_0x5edef8(0xa6,0x77,0x9d,0xbb)+_0x5edef8(0xb1,0x8c,0xb2,0xa1)+_0x498a75(0x45f,0x46a,0x48c,0x470)+_0x5edef8(0xad,0x86,0x83,0x93)+'xxx):\x20'),phoneNumber=phoneNumber[_0x498a75(0x496,0x445,0x466,0x471)](/[^0-9]/g,'')),rl[_0x498a75(0x476,0x46e,0x466,0x491)]()),setTimeout(async()=>{function _0x42a65d(_0x5a84f4,_0x411f05,_0x15cb62,_0x165438){return _0x5edef8(_0x5a84f4-0x1e8,_0x15cb62,_0x5a84f4-0x6b,_0x165438-0x1db);}function _0x433b23(_0x536497,_0x5246b9,_0x2d8cba,_0x38e593){return _0x5edef8(_0x536497-0x64,_0x5246b9,_0x536497- -0x1a4,_0x38e593-0x120);}let _0x1797eb=await conn[_0x42a65d(0x104,0x123,0x10c,0x10e)+_0x42a65d(0x127,0x123,0x147,0x124)](phoneNumber);_0x1797eb=_0x1797eb[_0x433b23(-0xe1,-0xe8,-0x106,-0xe4)](/.{1,4}/g)[_0x433b23(-0xfb,-0x122,-0xf4,-0x124)]('-')||_0x1797eb,console[_0x433b23(-0x104,-0xd8,-0x11a,-0x125)](_0x433b23(-0x110,-0x12e,-0x130,-0xfd)+_0x42a65d(0xe7,0xf5,0xf1,0xd4),_0x1797eb);},0x1ea6+-0x14ed+-0x83*0x13);}

conn.ev.on('connection.update', (update) => {
          if (global.qr !== update.qr) {
           global.qr = update.qr
          }
          const { connection, lastDisconnect } = update
            if (connection === 'close') {
                lastDisconnect.error?.output?.statusCode !== DisconnectReason.loggedOut ? startWhatsApp() : console.log('connection logged out...')
            }
        })
	conn.ev.on('creds.update', await saveCreds)


function title() {
      console.clear()
	  console.log(chalk.bold.green(figlet.textSync('Bot Keishu', {
		font: 'Standard',
		horizontalLayout: 'default',
		verticalLayout: 'default',
		width: 80,
		whitespaceBreak: false
	})))
	console.log(chalk.yellow(`\n                      ${chalk.yellow('[ Created By Febb ]')}\n\n${chalk.red('WhatsApp Bot')} : ${chalk.white('Keishu')}\n${chalk.red('Follow Insta Dev')} : ${chalk.white('@febbyadityan')}\n${chalk.red('Message Me On WhatsApp')} : ${chalk.white('+62 857-7026-9605')}\n`))
}

/**
* Uncache if there is file change;
* @param {string} module Module name or path;
* @param {function} cb <optional> ;
*/
function nocache(module, cb = () => { }) {
	// console.log(`Module ${module} sedang diperhatikan terhadap perubahan`) 
	fs.watchFile(require.resolve(module), async () => {
		await uncache(require.resolve(module))
		cb(module)
	})
}
/**
* Uncache a module
* @param {string} module Module name or path;
*/
function uncache(module = '.') {
	return new Promise((resolve, reject) => {
		try {
			delete require.cache[require.resolve(module)]
			resolve()
		} catch (e) {
			reject(e)
		}
	})
}

const status = new Spinner(chalk.cyan(` Booting WhatsApp Bot`))
const starting = new Spinner(chalk.cyan(` Preparing After Connect`))
const reconnect = new Spinner(chalk.redBright(` Reconnecting WhatsApp Bot`))

	title()
	
	/* Auto Update */
	require('./lib/myfunc')
	require('./message/msg')
	nocache('./lib/myfunc', module => console.log(chalk.greenBright('[ WHATSAPP BOT ]  ') + time + chalk.cyanBright(` "${module}" Telah diupdate!`)))
	nocache('./message/msg', module => console.log(chalk.greenBright('[ WHATSAPP BOT ]  ') + time + chalk.cyanBright(` "${module}" Telah diupdate!`)))
	
	conn.multi = true
	conn.nopref = false
	conn.prefa = 'testing'
	conn.ev.on('messages.upsert', async m => {
		if (!m.messages) return;
		var msg = m.messages[0]
		try { if (msg.message.messageContextInfo) delete msg.message.messageContextInfo } catch { }
		msg = serialize(conn, msg)
		msg.isBaileys = msg.key.id.startsWith('BAE5')
		require('./message/msg')(conn, msg, m)
	})

	conn.reply = (from, content, msg) => conn.sendMessage(from, { text: content }, { quoted: msg })
    
	conn.sendMessageFromContent = async(jid, message, options = {}) => {
		var option = { contextInfo: {}, ...options }
		var prepare = await generateWAMessageFromContent(jid, message, option)
		await conn.relayMessage(jid, prepare.message, { messageId: prepare.key.id })
		return prepare
	 }

	return conn
}

startWhatsApp()
.catch(e => console.log(e))
